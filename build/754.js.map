{"version":3,"file":"754.js","mappings":"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","sources":["webpack://rrze-video/./node_modules/vidstack/prod/chunks/vidstack-DSYpsFWk.js","webpack://rrze-video/./node_modules/vidstack/prod/chunks/vidstack-O8cuP9CY.js","webpack://rrze-video/./node_modules/vidstack/prod/chunks/vidstack-krOAtKMi.js","webpack://rrze-video/./node_modules/vidstack/prod/providers/vidstack-vimeo.js"],"sourcesContent":["import { isUndefined, isNumber } from './vidstack-CRlI3Mh7.js';\n\nclass RAFLoop {\n  #id;\n  #callback;\n  constructor(callback) {\n    this.#callback = callback;\n  }\n  start() {\n    if (!isUndefined(this.#id)) return;\n    this.#loop();\n  }\n  stop() {\n    if (isNumber(this.#id)) window.cancelAnimationFrame(this.#id);\n    this.#id = void 0;\n  }\n  #loop() {\n    this.#id = window.requestAnimationFrame(() => {\n      if (isUndefined(this.#id)) return;\n      this.#callback();\n      this.#loop();\n    });\n  }\n}\n\nexport { RAFLoop };\n","import { signal, listenEvent, effect, peek, isString } from './vidstack-CRlI3Mh7.js';\nimport { appendParamsToURL } from './vidstack-CSpLxgg_.js';\n\nclass EmbedProvider {\n  #iframe;\n  src = signal(\"\");\n  /**\n   * Defines which referrer is sent when fetching the resource.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/referrerPolicy}\n   */\n  referrerPolicy = null;\n  get iframe() {\n    return this.#iframe;\n  }\n  constructor(iframe) {\n    this.#iframe = iframe;\n    iframe.setAttribute(\"frameBorder\", \"0\");\n    iframe.setAttribute(\"aria-hidden\", \"true\");\n    iframe.setAttribute(\n      \"allow\",\n      \"autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope\"\n    );\n    if (this.referrerPolicy !== null) {\n      iframe.setAttribute(\"referrerpolicy\", this.referrerPolicy);\n    }\n  }\n  setup() {\n    listenEvent(window, \"message\", this.#onWindowMessage.bind(this));\n    listenEvent(this.#iframe, \"load\", this.onLoad.bind(this));\n    effect(this.#watchSrc.bind(this));\n  }\n  #watchSrc() {\n    const src = this.src();\n    if (!src.length) {\n      this.#iframe.setAttribute(\"src\", \"\");\n      return;\n    }\n    const params = peek(() => this.buildParams());\n    this.#iframe.setAttribute(\"src\", appendParamsToURL(src, params));\n  }\n  postMessage(message, target) {\n    this.#iframe.contentWindow?.postMessage(JSON.stringify(message), target ?? \"*\");\n  }\n  #onWindowMessage(event) {\n    const origin = this.getOrigin(), isOriginMatch = (event.source === null || event.source === this.#iframe?.contentWindow) && (!isString(origin) || origin === event.origin);\n    if (!isOriginMatch) return;\n    try {\n      const message = JSON.parse(event.data);\n      if (message) this.onMessage(message, event);\n      return;\n    } catch (e) {\n    }\n    if (event.data) this.onMessage(event.data, event);\n  }\n}\n\nexport { EmbedProvider };\n","const videoIdRE = /(?:https:\\/\\/)?(?:player\\.)?vimeo(?:\\.com)?\\/(?:video\\/)?(\\d+)(?:(?:\\?hash=|\\?h=|\\/)(.*))?/;\nconst infoCache = /* @__PURE__ */ new Map();\nconst pendingFetch = /* @__PURE__ */ new Map();\nfunction resolveVimeoVideoId(src) {\n  const matches = src.match(videoIdRE);\n  return { videoId: matches?.[1], hash: matches?.[2] };\n}\nasync function getVimeoVideoInfo(videoId, abort, videoHash) {\n  if (infoCache.has(videoId)) return infoCache.get(videoId);\n  if (pendingFetch.has(videoId)) return pendingFetch.get(videoId);\n  let oembedSrc = `https://vimeo.com/api/oembed.json?url=https://player.vimeo.com/video/${videoId}`;\n  if (videoHash) {\n    oembedSrc = oembedSrc.concat(`?h=${videoHash}`);\n  }\n  const promise = window.fetch(oembedSrc, {\n    mode: \"cors\",\n    signal: abort.signal\n  }).then((response) => response.json()).then((data) => {\n    const thumnailRegex = /vimeocdn.com\\/video\\/(.*)?_/, thumbnailId = data?.thumbnail_url?.match(thumnailRegex)?.[1], poster = thumbnailId ? `https://i.vimeocdn.com/video/${thumbnailId}_1920x1080.webp` : \"\", info = {\n      title: data?.title ?? \"\",\n      duration: data?.duration ?? 0,\n      poster,\n      pro: data.account_type !== \"basic\"\n    };\n    infoCache.set(videoId, info);\n    return info;\n  }).finally(() => pendingFetch.delete(videoId));\n  pendingFetch.set(videoId, promise);\n  return promise;\n}\n\nexport { getVimeoVideoInfo, resolveVimeoVideoId };\n","import { createScope, signal, effect, peek, isString, deferredPromise, listenEvent, isArray } from '../chunks/vidstack-CRlI3Mh7.js';\nimport { QualitySymbol } from '../chunks/vidstack-B01xzxC4.js';\nimport { TimeRange } from '../chunks/vidstack-BmMUBVGQ.js';\nimport { TextTrack } from '../chunks/vidstack-DpjEe5xw.js';\nimport { ListSymbol } from '../chunks/vidstack-D5EzK014.js';\nimport { RAFLoop } from '../chunks/vidstack-DSYpsFWk.js';\nimport { preconnect } from '../chunks/vidstack-CSpLxgg_.js';\nimport { EmbedProvider } from '../chunks/vidstack-O8cuP9CY.js';\nimport { resolveVimeoVideoId, getVimeoVideoInfo } from '../chunks/vidstack-krOAtKMi.js';\nimport '../chunks/vidstack-DE4XvkHU.js';\nimport '../chunks/vidstack-C1T0MO0v.js';\n\nconst trackedVimeoEvents = [\n  \"bufferend\",\n  \"bufferstart\",\n  // 'cuechange',\n  \"durationchange\",\n  \"ended\",\n  \"enterpictureinpicture\",\n  \"error\",\n  \"fullscreenchange\",\n  \"leavepictureinpicture\",\n  \"loaded\",\n  // 'loadeddata',\n  // 'loadedmetadata',\n  // 'loadstart',\n  \"playProgress\",\n  \"loadProgress\",\n  \"pause\",\n  \"play\",\n  \"playbackratechange\",\n  // 'progress',\n  \"qualitychange\",\n  \"seeked\",\n  \"seeking\",\n  // 'texttrackchange',\n  \"timeupdate\",\n  \"volumechange\",\n  \"waiting\"\n  // 'adstarted',\n  // 'adcompleted',\n  // 'aderror',\n  // 'adskipped',\n  // 'adallcompleted',\n  // 'adclicked',\n  // 'chapterchange',\n  // 'chromecastconnected',\n  // 'remoteplaybackavailabilitychange',\n  // 'remoteplaybackconnecting',\n  // 'remoteplaybackconnect',\n  // 'remoteplaybackdisconnect',\n  // 'liveeventended',\n  // 'liveeventstarted',\n  // 'livestreamoffline',\n  // 'livestreamonline',\n];\n\nclass VimeoProvider extends EmbedProvider {\n  $$PROVIDER_TYPE = \"VIMEO\";\n  scope = createScope();\n  fullscreen;\n  #ctx;\n  #videoId = signal(\"\");\n  #pro = signal(false);\n  #hash = null;\n  #currentSrc = null;\n  #fullscreenActive = false;\n  #seekableRange = new TimeRange(0, 0);\n  #timeRAF = new RAFLoop(this.#onAnimationFrame.bind(this));\n  #currentCue = null;\n  #chaptersTrack = null;\n  #promises = /* @__PURE__ */ new Map();\n  #videoInfoPromise = null;\n  constructor(iframe, ctx) {\n    super(iframe);\n    this.#ctx = ctx;\n    const self = this;\n    this.fullscreen = {\n      get active() {\n        return self.#fullscreenActive;\n      },\n      supported: true,\n      enter: () => this.#remote(\"requestFullscreen\"),\n      exit: () => this.#remote(\"exitFullscreen\")\n    };\n  }\n  /**\n   * Whether tracking session data should be enabled on the embed, including cookies and analytics.\n   * This is turned off by default to be GDPR-compliant.\n   *\n   * @defaultValue `false`\n   */\n  cookies = false;\n  title = true;\n  byline = true;\n  portrait = true;\n  color = \"00ADEF\";\n  get type() {\n    return \"vimeo\";\n  }\n  get currentSrc() {\n    return this.#currentSrc;\n  }\n  get videoId() {\n    return this.#videoId();\n  }\n  get hash() {\n    return this.#hash;\n  }\n  get isPro() {\n    return this.#pro();\n  }\n  preconnect() {\n    preconnect(this.getOrigin());\n  }\n  setup() {\n    super.setup();\n    effect(this.#watchVideoId.bind(this));\n    effect(this.#watchVideoInfo.bind(this));\n    effect(this.#watchPro.bind(this));\n    this.#ctx.notify(\"provider-setup\", this);\n  }\n  destroy() {\n    this.#reset();\n    this.fullscreen = void 0;\n    const message = \"provider destroyed\";\n    for (const promises of this.#promises.values()) {\n      for (const { reject } of promises) reject(message);\n    }\n    this.#promises.clear();\n    this.#remote(\"destroy\");\n  }\n  async play() {\n    return this.#remote(\"play\");\n  }\n  async pause() {\n    return this.#remote(\"pause\");\n  }\n  setMuted(muted) {\n    this.#remote(\"setMuted\", muted);\n  }\n  setCurrentTime(time) {\n    this.#remote(\"seekTo\", time);\n    this.#ctx.notify(\"seeking\", time);\n  }\n  setVolume(volume) {\n    this.#remote(\"setVolume\", volume);\n    this.#remote(\"setMuted\", peek(this.#ctx.$state.muted));\n  }\n  setPlaybackRate(rate) {\n    this.#remote(\"setPlaybackRate\", rate);\n  }\n  async loadSource(src) {\n    if (!isString(src.src)) {\n      this.#currentSrc = null;\n      this.#hash = null;\n      this.#videoId.set(\"\");\n      return;\n    }\n    const { videoId, hash } = resolveVimeoVideoId(src.src);\n    this.#videoId.set(videoId ?? \"\");\n    this.#hash = hash ?? null;\n    this.#currentSrc = src;\n  }\n  #watchVideoId() {\n    this.#reset();\n    const videoId = this.#videoId();\n    if (!videoId) {\n      this.src.set(\"\");\n      return;\n    }\n    this.src.set(`${this.getOrigin()}/video/${videoId}`);\n    this.#ctx.notify(\"load-start\");\n  }\n  #watchVideoInfo() {\n    const videoId = this.#videoId();\n    if (!videoId) return;\n    const promise = deferredPromise(), abort = new AbortController();\n    this.#videoInfoPromise = promise;\n    getVimeoVideoInfo(videoId, abort, this.#hash).then((info) => {\n      promise.resolve(info);\n    }).catch((e) => {\n      promise.reject();\n    });\n    return () => {\n      promise.reject();\n      abort.abort();\n    };\n  }\n  #watchPro() {\n    const isPro = this.#pro(), { $state, qualities } = this.#ctx;\n    $state.canSetPlaybackRate.set(isPro);\n    qualities[ListSymbol.setReadonly](!isPro);\n    if (isPro) {\n      return listenEvent(qualities, \"change\", () => {\n        if (qualities.auto) return;\n        const id = qualities.selected?.id;\n        if (id) this.#remote(\"setQuality\", id);\n      });\n    }\n  }\n  getOrigin() {\n    return \"https://player.vimeo.com\";\n  }\n  buildParams() {\n    const { keyDisabled } = this.#ctx.$props, { playsInline, nativeControls } = this.#ctx.$state, showControls = nativeControls();\n    return {\n      title: this.title,\n      byline: this.byline,\n      color: this.color,\n      portrait: this.portrait,\n      controls: showControls,\n      h: this.hash,\n      keyboard: showControls && !keyDisabled(),\n      transparent: true,\n      playsinline: playsInline(),\n      dnt: !this.cookies\n    };\n  }\n  #onAnimationFrame() {\n    this.#remote(\"getCurrentTime\");\n  }\n  // Embed will sometimes dispatch 0 at end of playback.\n  #preventTimeUpdates = false;\n  #onTimeUpdate(time, trigger) {\n    if (this.#preventTimeUpdates && time === 0) return;\n    const { realCurrentTime, realDuration, paused, bufferedEnd } = this.#ctx.$state;\n    if (realCurrentTime() === time) return;\n    const prevTime = realCurrentTime();\n    this.#ctx.notify(\"time-change\", time, trigger);\n    if (Math.abs(prevTime - time) > 1.5) {\n      this.#ctx.notify(\"seeking\", time, trigger);\n      if (!paused() && bufferedEnd() < time) {\n        this.#ctx.notify(\"waiting\", void 0, trigger);\n      }\n    }\n    if (realDuration() - time < 0.01) {\n      this.#ctx.notify(\"end\", void 0, trigger);\n      this.#preventTimeUpdates = true;\n      setTimeout(() => {\n        this.#preventTimeUpdates = false;\n      }, 500);\n    }\n  }\n  #onSeeked(time, trigger) {\n    this.#ctx.notify(\"seeked\", time, trigger);\n  }\n  #onLoaded(trigger) {\n    const videoId = this.#videoId();\n    this.#videoInfoPromise?.promise.then((info) => {\n      if (!info) return;\n      const { title, poster, duration, pro } = info;\n      this.#pro.set(pro);\n      this.#ctx.notify(\"title-change\", title, trigger);\n      this.#ctx.notify(\"poster-change\", poster, trigger);\n      this.#ctx.notify(\"duration-change\", duration, trigger);\n      this.#onReady(duration, trigger);\n    }).catch(() => {\n      if (videoId !== this.#videoId()) return;\n      this.#remote(\"getVideoTitle\");\n      this.#remote(\"getDuration\");\n    });\n  }\n  #onReady(duration, trigger) {\n    const { nativeControls } = this.#ctx.$state, showEmbedControls = nativeControls();\n    this.#seekableRange = new TimeRange(0, duration);\n    const detail = {\n      buffered: new TimeRange(0, 0),\n      seekable: this.#seekableRange,\n      duration\n    };\n    this.#ctx.delegate.ready(detail, trigger);\n    if (!showEmbedControls) {\n      this.#remote(\"_hideOverlay\");\n    }\n    this.#remote(\"getQualities\");\n    this.#remote(\"getChapters\");\n  }\n  #onMethod(method, data, trigger) {\n    switch (method) {\n      case \"getVideoTitle\":\n        const videoTitle = data;\n        this.#ctx.notify(\"title-change\", videoTitle, trigger);\n        break;\n      case \"getDuration\":\n        const duration = data;\n        if (!this.#ctx.$state.canPlay()) {\n          this.#onReady(duration, trigger);\n        } else {\n          this.#ctx.notify(\"duration-change\", duration, trigger);\n        }\n        break;\n      case \"getCurrentTime\":\n        this.#onTimeUpdate(data, trigger);\n        break;\n      case \"getBuffered\":\n        if (isArray(data) && data.length) {\n          this.#onLoadProgress(data[data.length - 1][1], trigger);\n        }\n        break;\n      case \"setMuted\":\n        this.#onVolumeChange(peek(this.#ctx.$state.volume), data, trigger);\n        break;\n      case \"getChapters\":\n        this.#onChaptersChange(data);\n        break;\n      case \"getQualities\":\n        this.#onQualitiesChange(data, trigger);\n        break;\n    }\n    this.#getPromise(method)?.resolve();\n  }\n  #attachListeners() {\n    for (const type of trackedVimeoEvents) {\n      this.#remote(\"addEventListener\", type);\n    }\n  }\n  #onPause(trigger) {\n    this.#timeRAF.stop();\n    this.#ctx.notify(\"pause\", void 0, trigger);\n  }\n  #onPlay(trigger) {\n    this.#timeRAF.start();\n    this.#ctx.notify(\"play\", void 0, trigger);\n  }\n  #onPlayProgress(trigger) {\n    const { paused } = this.#ctx.$state;\n    if (!paused() && !this.#preventTimeUpdates) {\n      this.#ctx.notify(\"playing\", void 0, trigger);\n    }\n  }\n  #onLoadProgress(buffered, trigger) {\n    const detail = {\n      buffered: new TimeRange(0, buffered),\n      seekable: this.#seekableRange\n    };\n    this.#ctx.notify(\"progress\", detail, trigger);\n  }\n  #onBufferStart(trigger) {\n    this.#ctx.notify(\"waiting\", void 0, trigger);\n  }\n  #onBufferEnd(trigger) {\n    const { paused } = this.#ctx.$state;\n    if (!paused()) this.#ctx.notify(\"playing\", void 0, trigger);\n  }\n  #onWaiting(trigger) {\n    const { paused } = this.#ctx.$state;\n    if (paused()) {\n      this.#ctx.notify(\"play\", void 0, trigger);\n    }\n    this.#ctx.notify(\"waiting\", void 0, trigger);\n  }\n  #onVolumeChange(volume, muted, trigger) {\n    const detail = { volume, muted };\n    this.#ctx.notify(\"volume-change\", detail, trigger);\n  }\n  // #onTextTrackChange(track: VimeoTextTrack, trigger: Event) {\n  //   const textTrack = this.#ctx.textTracks.toArray().find((t) => t.language === track.language);\n  //   if (textTrack) textTrack.mode = track.mode;\n  // }\n  // #onTextTracksChange(tracks: VimeoTextTrack[], trigger: Event) {\n  //   for (const init of tracks) {\n  //     const textTrack = new TextTrack({\n  //       ...init,\n  //       label: init.label.replace('auto-generated', 'auto'),\n  //     });\n  //     textTrack[TextTrackSymbol.readyState] = 2;\n  //     this.#ctx.textTracks.add(textTrack, trigger);\n  //     textTrack.setMode(init.mode, trigger);\n  //   }\n  // }\n  // #onCueChange(cue: VimeoTextCue, trigger: Event) {\n  //   const { textTracks, $state } = this.#ctx,\n  //     { currentTime } = $state,\n  //     track = textTracks.selected;\n  //   if (this.#currentCue) track?.removeCue(this.#currentCue, trigger);\n  //   this.#currentCue = new window.VTTCue(currentTime(), Number.MAX_SAFE_INTEGER, cue.text);\n  //   track?.addCue(this.#currentCue, trigger);\n  // }\n  #onChaptersChange(chapters) {\n    this.#removeChapters();\n    if (!chapters.length) return;\n    const track = new TextTrack({\n      kind: \"chapters\",\n      default: true\n    }), { realDuration } = this.#ctx.$state;\n    for (let i = 0; i < chapters.length; i++) {\n      const chapter = chapters[i], nextChapter = chapters[i + 1];\n      track.addCue(\n        new window.VTTCue(\n          chapter.startTime,\n          nextChapter?.startTime ?? realDuration(),\n          chapter.title\n        )\n      );\n    }\n    this.#chaptersTrack = track;\n    this.#ctx.textTracks.add(track);\n  }\n  #removeChapters() {\n    if (!this.#chaptersTrack) return;\n    this.#ctx.textTracks.remove(this.#chaptersTrack);\n    this.#chaptersTrack = null;\n  }\n  #onQualitiesChange(qualities, trigger) {\n    this.#ctx.qualities[QualitySymbol.enableAuto] = qualities.some((q) => q.id === \"auto\") ? () => this.#remote(\"setQuality\", \"auto\") : void 0;\n    for (const quality of qualities) {\n      if (quality.id === \"auto\") continue;\n      const height = +quality.id.slice(0, -1);\n      if (isNaN(height)) continue;\n      this.#ctx.qualities[ListSymbol.add](\n        {\n          id: quality.id,\n          width: height * (16 / 9),\n          height,\n          codec: \"avc1,h.264\",\n          bitrate: -1\n        },\n        trigger\n      );\n    }\n    this.#onQualityChange(\n      qualities.find((q) => q.active),\n      trigger\n    );\n  }\n  #onQualityChange({ id } = {}, trigger) {\n    if (!id) return;\n    const isAuto = id === \"auto\", newQuality = this.#ctx.qualities.getById(id);\n    if (isAuto) {\n      this.#ctx.qualities[QualitySymbol.setAuto](isAuto, trigger);\n      this.#ctx.qualities[ListSymbol.select](void 0, true, trigger);\n    } else {\n      this.#ctx.qualities[ListSymbol.select](newQuality ?? void 0, true, trigger);\n    }\n  }\n  #onEvent(event, payload, trigger) {\n    switch (event) {\n      case \"ready\":\n        this.#attachListeners();\n        break;\n      case \"loaded\":\n        this.#onLoaded(trigger);\n        break;\n      case \"play\":\n        this.#onPlay(trigger);\n        break;\n      case \"playProgress\":\n        this.#onPlayProgress(trigger);\n        break;\n      case \"pause\":\n        this.#onPause(trigger);\n        break;\n      case \"loadProgress\":\n        this.#onLoadProgress(payload.seconds, trigger);\n        break;\n      case \"waiting\":\n        this.#onWaiting(trigger);\n        break;\n      case \"bufferstart\":\n        this.#onBufferStart(trigger);\n        break;\n      case \"bufferend\":\n        this.#onBufferEnd(trigger);\n        break;\n      case \"volumechange\":\n        this.#onVolumeChange(payload.volume, peek(this.#ctx.$state.muted), trigger);\n        break;\n      case \"durationchange\":\n        this.#seekableRange = new TimeRange(0, payload.duration);\n        this.#ctx.notify(\"duration-change\", payload.duration, trigger);\n        break;\n      case \"playbackratechange\":\n        this.#ctx.notify(\"rate-change\", payload.playbackRate, trigger);\n        break;\n      case \"qualitychange\":\n        this.#onQualityChange(payload, trigger);\n        break;\n      case \"fullscreenchange\":\n        this.#fullscreenActive = payload.fullscreen;\n        this.#ctx.notify(\"fullscreen-change\", payload.fullscreen, trigger);\n        break;\n      case \"enterpictureinpicture\":\n        this.#ctx.notify(\"picture-in-picture-change\", true, trigger);\n        break;\n      case \"leavepictureinpicture\":\n        this.#ctx.notify(\"picture-in-picture-change\", false, trigger);\n        break;\n      case \"ended\":\n        this.#ctx.notify(\"end\", void 0, trigger);\n        break;\n      case \"error\":\n        this.#onError(payload, trigger);\n        break;\n      case \"seek\":\n      case \"seeked\":\n        this.#onSeeked(payload.seconds, trigger);\n        break;\n    }\n  }\n  #onError(error, trigger) {\n    const { message, method } = error;\n    if (method === \"setPlaybackRate\") {\n      this.#pro.set(false);\n    }\n    if (method) {\n      this.#getPromise(method)?.reject(message);\n    }\n  }\n  onMessage(message, event) {\n    if (message.event) {\n      this.#onEvent(message.event, message.data, event);\n    } else if (message.method) {\n      this.#onMethod(message.method, message.value, event);\n    }\n  }\n  onLoad() {\n  }\n  async #remote(command, arg) {\n    let promise = deferredPromise(), promises = this.#promises.get(command);\n    if (!promises) this.#promises.set(command, promises = []);\n    promises.push(promise);\n    this.postMessage({\n      method: command,\n      value: arg\n    });\n    return promise.promise;\n  }\n  #reset() {\n    this.#timeRAF.stop();\n    this.#seekableRange = new TimeRange(0, 0);\n    this.#videoInfoPromise = null;\n    this.#currentCue = null;\n    this.#pro.set(false);\n    this.#removeChapters();\n  }\n  #getPromise(command) {\n    return this.#promises.get(command)?.shift();\n  }\n}\n\nexport { VimeoProvider };\n"],"names":["RAFLoop","constructor","callback","this","start","stop","window","cancelAnimationFrame","requestAnimationFrame","EmbedProvider","src","referrerPolicy","iframe","setAttribute","setup","bind","onLoad","length","params","buildParams","postMessage","message","target","contentWindow","JSON","stringify","event","origin","getOrigin","source","parse","data","onMessage","e","videoIdRE","infoCache","Map","pendingFetch","resolveVimeoVideoId","matches","match","videoId","hash","async","getVimeoVideoInfo","abort","videoHash","has","get","oembedSrc","concat","promise","fetch","mode","signal","then","response","json","thumbnailId","thumbnail_url","poster","info","title","duration","pro","account_type","set","finally","delete","trackedVimeoEvents","VimeoProvider","$$PROVIDER_TYPE","scope","fullscreen","ctx","super","self","active","supported","enter","exit","cookies","byline","portrait","color","type","currentSrc","isPro","preconnect","notify","destroy","promises","values","reject","clear","play","pause","setMuted","muted","setCurrentTime","time","setVolume","volume","$state","setPlaybackRate","rate","loadSource","AbortController","resolve","catch","qualities","canSetPlaybackRate","setReadonly","auto","id","selected","keyDisabled","$props","playsInline","nativeControls","showControls","controls","h","keyboard","transparent","playsinline","dnt","trigger","realCurrentTime","realDuration","paused","bufferedEnd","prevTime","Math","abs","setTimeout","showEmbedControls","detail","buffered","seekable","delegate","ready","method","videoTitle","canPlay","chapters","track","kind","default","i","chapter","nextChapter","addCue","VTTCue","startTime","textTracks","add","remove","enableAuto","some","q","quality","height","slice","isNaN","width","codec","bitrate","find","isAuto","newQuality","getById","setAuto","select","payload","seconds","playbackRate","error","value","command","arg","push","shift"],"sourceRoot":""}